<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title id="page-title-text"></title> <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter&family=Poppins&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f5f5f5;
      color: #333;
    }
    h1, h2 {
      font-family: 'Poppins', sans-serif;
    }
  </style>
</head>
<body class="min-h-screen py-10 px-4">
  <div class="max-w-md mx-auto bg-white p-6 rounded-xl shadow-md">
    <a href="../landing.html" aria-label="Back to Homepage">
      <div class="text-center mb-6">
        <img src="../assets/img/logo-brainboxmed-cube.png" alt="BrainboxMed Icon" class="mx-auto h-16 mb-2">
        <img src="../assets/img/logo-brainboxmed-name.png" alt="BrainboxMed Text" class="mx-auto h-10">
        <p class="text-sm text-gray-500 mt-1">Train your brain. Master medicine.</p>
      </div>
    </a>
    <h1 id="title-text" class="text-xl font-bold text-purple-700 text-center mb-2"></h1>
    <p id="price-text" class="text-center text-sm text-gray-600 mb-4"></p>
    
    <form id="transition-form" class="space-y-4">
      <input id="name-input" type="text" placeholder="Full Name" class="w-full border rounded-lg px-4 py-2" required />
      <input id="email-input" type="email" placeholder="Email Address" class="w-full border rounded-lg px-4 py-2" required />
      <button id="continue-button" type="submit" class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition font-semibold">
        Continue to Sign Up
      </button>
    </form>

    <div class="mt-4 text-center">
      <a id="back-to-plans" href="../upgrade.html" class="text-sm text-purple-600 hover:underline">⬅️ Back to Plans</a>
    </div>
  </div>
  
<div class="w-full my-8 flex justify-center">
  <div class="w-full sm:w-3/4 lg:w-2/3 px-4">
    <div class="bg-yellow-50 border border-yellow-300 rounded-xl shadow p-4 text-center">
      <p class="text-sm text-yellow-800 font-semibold" id="ad-label"></p>
      <div class="mt-2">
        <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
          data-ad-slot="YYYYYYYYYY"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      </div>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
    </div>
  </div>
</div>

<footer class="text-center text-xs text-gray-500 mt-12 py-6 border-t border-gray-200">
  <p id="footer1"></p>
  <p id="footer2"></p>
  <p>
    <a href="../privacy.html" id="footer3" class="text-purple-600 hover:underline"></a> |
    <a href="../terms.html" id="footer4" class="text-purple-600 hover:underline"></a>
  </p>
</footer>

<script>
  // Detectar idioma do hostname se não estiver no localStorage
  function detectLanguageFromHostname() {
    const hostname = window.location.hostname;
    if (hostname.endsWith('.es')) {
      return 'es';
    } else if (hostname.endsWith('.com.br')) {
      return 'pt';
    } else {
      return 'en'; // Padrão para .com, .in, ou outros
    }
  }

  let lang = localStorage.getItem('selectedLanguage');
  if (!lang) {
    lang = detectLanguageFromHostname();
    localStorage.setItem('selectedLanguage', lang);
  }

  // Definições de tradução para esta página de transição
  const translations = {
    en: {
      pageTitle: "Subscribe to Ad-Free",
      title: "Subscribe to Ad-Free",
      price: "Plan cost: <strong>$9.99/mo</strong>",
      namePlaceholder: "Full Name",
      emailPlaceholder: "Email Address",
      button: "Continue to Sign Up",
      back: "⬅️ Back to Plans",
      adLabel: "Advertisement",
      footer1: "© 2024 BrainboxMed. All rights reserved.",
      footer2: "BrainboxMed™ is a registered educational platform. Unauthorized use is prohibited.",
      footer3: "Privacy Policy",
      footer4: "Terms of Use",
    },
    pt: {
      pageTitle: "Assinar Sem Anúncios",
      title: "Assinar Sem Anúncios",
      price: "Custo do plano: <strong>R$9,99/mês</strong>",
      namePlaceholder: "Nome completo",
      emailPlaceholder: "Endereço de e-mail",
      button: "Continuar Cadastro",
      back: "⬅️ Voltar aos Planos",
      adLabel: "Publicidade",
      footer1: "© 2024 BrainboxMed. Todos os direitos reservados.",
      footer2: "BrainboxMed™ é uma plataforma educacional registrada. Uso não autorizado é proibido.",
      footer3: "Política de Privacidade",
      footer4: "Termos de Uso",
    },
    es: {
      pageTitle: "Suscribirse a Sin Anuncios",
      title: "Suscribirse a Sin Anuncios",
      price: "Costo del plan: <strong>$9.99/mes</strong>",
      namePlaceholder: "Nombre completo",
      emailPlaceholder: "Dirección de correo",
      button: "Continuar Registro",
      back: "⬅️ Volver a los Planes",
      adLabel: "Publicidad",
      footer1: "© 2024 BrainboxMed. Todos los derechos reservados.",
      footer2: "BrainboxMed™ es una plataforma educativa registrada. Uso no autorizado está prohibido.",
      footer3: "Política de Privacidad",
      footer4: "Términos de Uso",
    }
  };

  const t = translations[lang];

  // Aplicar traduções aos elementos
  document.getElementById("page-title-text").textContent = t.pageTitle;
  document.getElementById("title-text").textContent = t.title;
  document.getElementById("price-text").innerHTML = t.price; // innerHTML para manter o <strong>
  document.getElementById("name-input").placeholder = t.namePlaceholder; // Alterado de name-placeholder para name-input
  document.getElementById("email-input").placeholder = t.emailPlaceholder; // Alterado de email-placeholder para email-input
  document.getElementById("continue-button").textContent = t.button; // Alterado de confirm-button para continue-button
  document.getElementById("back-to-plans").textContent = t.back;
  document.getElementById("ad-label").textContent = t.adLabel;
  document.getElementById("footer1").textContent = t.footer1;
  document.getElementById("footer2").textContent = t.footer2;
  document.getElementById("footer3").textContent = t.footer3;
  document.getElementById("footer4").textContent = t.footer4;

  // Lógica para enviar dados para a página de cadastro completo
  document.getElementById('transition-form').addEventListener('submit', function(event) {
    event.preventDefault(); // Impede o envio padrão do formulário

    const fullName = document.getElementById('name-input').value;
    const email = document.getElementById('email-input').value;
    const plan = 'adfree'; // <--- PLANO ESPECÍFICO PARA ESTA PÁGINA

    // Codificar os valores para usar na URL
    const encodedFullName = encodeURIComponent(fullName);
    const encodedEmail = encodeURIComponent(email);

    // Redirecionar para a página de cadastro completo com os dados
    window.location.href = `signup.html?plan=${plan}&name=${encodedFullName}&email=${encodedEmail}`;
  });

  // Pre-fill name and email from localStorage if available (from previous visit to signup.html)
  const storedFullName = localStorage.getItem('signupFullName');
  const storedEmail = localStorage.getItem('signupEmail');
  if (storedFullName) {
      document.getElementById('name-input').value = storedFullName;
  }
  if (storedEmail) {
      document.getElementById('email-input').value = storedEmail;
  }
window.scrollTo(0, 0);
</script>

</body>
</html>